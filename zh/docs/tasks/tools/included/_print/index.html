<!doctype html><html lang=zh class=no-js>
<head>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JPP6RFM2BP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-JPP6RFM2BP')</script>
<link rel=alternate hreflang=en href=https://kubernetes.io/docs/tasks/tools/included/>
<link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/tasks/tools/included/>
<link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/tasks/tools/included/>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0">
<link rel=canonical type=text/html href=https://kubernetes.io/zh/docs/tasks/tools/included/>
<link rel="shortcut icon" type=image/png href=/images/favicon.png>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=manifest href=/manifest.webmanifest>
<link rel=apple-touch-icon href=/images/kubernetes-192x192.png>
<title>内含的工具 | Kubernetes</title><meta property="og:title" content="内含的工具">
<meta property="og:description" content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kubernetes.io/zh/docs/tasks/tools/included/"><meta property="og:site_name" content="Kubernetes">
<meta itemprop=name content="内含的工具">
<meta itemprop=description content="在页面 kubectl-installs-*.md 中包含的代码片段"><meta name=twitter:card content="summary">
<meta name=twitter:title content="内含的工具">
<meta name=twitter:description content="在页面 kubectl-installs-*.md 中包含的代码片段">
<link href=/scss/main.css rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png"}</script>
<meta name=theme-color content="#326ce5">
<link rel=stylesheet href=/css/feature-states.css>
<meta name=description content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta property="og:description" content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta name=twitter:description content="在页面 kubectl-installs-*.md 中包含的代码片段">
<meta property="og:url" content="https://kubernetes.io/zh/docs/tasks/tools/included/">
<meta property="og:title" content="内含的工具">
<meta name=twitter:title content="内含的工具">
<meta name=twitter:image content="https://kubernetes.io/images/favicon.png">
<meta name=twitter:image:alt content="Kubernetes">
<meta property="og:image" content="/images/kubernetes-horizontal-color.png">
<meta property="og:type" content="article">
<script src=/js/script.js></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary>
<a class=navbar-brand href=/zh/></a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-2 mb-lg-0">
<a class="nav-link active" href=/zh/docs/>文档</a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/zh/blog/>Kubernetes 博客</a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/zh/training/>培训</a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/zh/partners/>合作伙伴</a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/zh/community/>社区</a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/zh/case-studies/>案例分析</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Versions
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/zh/docs/tasks/tools/included/>v1.27</a>
<a class=dropdown-item href=https://v1-26.docs.kubernetes.io/zh/docs/tasks/tools/included/>v1.26</a>
<a class=dropdown-item href=https://v1-25.docs.kubernetes.io/zh/docs/tasks/tools/included/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/zh/docs/tasks/tools/included/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/zh/docs/tasks/tools/included/>v1.23</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
中文 Chinese
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/docs/tasks/tools/included/>English</a>
<a class=dropdown-item href=/ko/docs/tasks/tools/included/>한국어 Korean</a>
<a class=dropdown-item href=/es/docs/tasks/tools/included/>Español</a>
</div>
</li>
</ul>
</div>
<button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.
</p><p>
<a href=/zh/docs/tasks/tools/included/>返回本页常规视图</a>.
</p>
</div>
<h1 class=title>内含的工具</h1>
<div class=lead>在页面 kubectl-installs-*.md 中包含的代码片段</div>
<ul>
<li>1: <a href=#pg-643b1104b7b31ae10b173acfb447843a>fish 自动补全</a></li>
<li>2: <a href=#pg-d4ebbbe0a2ddce15850a36dfede9ba52>kubectl-convert 概述</a></li>
<li>3: <a href=#pg-2d600cc8ec4dec69673b5f9577b6da22>Linux 系统中的 bash 自动补全功能</a></li>
<li>4: <a href=#pg-68808b3ec5807517ed64fd8ae32a7d1b>macOS 系统上的 bash 自动补全</a></li>
<li>5: <a href=#pg-730f5a835775a8e94bd1c481d3f1a349>PowerShell 自动补全</a></li>
<li>6: <a href=#pg-9ab27577326839cb4793fd670a916364>zsh 自动补全</a></li>
<li>7: <a href=#pg-99d563e9521796074ba3ca7f15a613ce>后续内容</a></li>
<li>8: <a href=#pg-b2d43b2ae3e8f26eefa83de2db4ba782>验证 kubectl 的安装效果</a></li>
</ul>
<div class=content>
</div>
</div>
<div class=td-content>
<h1 id=pg-643b1104b7b31ae10b173acfb447843a>1 - fish 自动补全</h1>
<div class=lead>启用 fish 自动补全的可选配置。</div>
<p>kubectl 通过命令 <code>kubectl completion fish</code> 生成 Fish 自动补全脚本。
在 shell 中导入（Sourcing）该自动补全脚本，将启动 kubectl 自动补全功能。</p>
<p>为了在所有的 shell 会话中实现此功能，请将下面内容加入到文件 <code>~/.config/fish/config.fish</code> 中。</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl completion fish | <span style=color:#a2f>source</span>
</code></pre></div>
<p>重新加载 shell 后，kubectl 自动补全功能将立即生效。</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d4ebbbe0a2ddce15850a36dfede9ba52>2 - kubectl-convert 概述</h1>
<div class=lead>一个 kubectl 插件，允许你将清单从一个 Kubernetes API 版本转换到不同的版本。</div>
<p>一个 Kubernetes 命令行工具 <code>kubectl</code> 的插件，允许你将清单在不同 API 版本间转换。
这对于将清单迁移到新的 Kubernetes 发行版上未被废弃的 API 版本时尤其有帮助。
更多信息请访问 <a href=/zh/docs/reference/using-api/deprecation-guide/#migrate-to-non-deprecated-apis>迁移到非弃用 API</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2d600cc8ec4dec69673b5f9577b6da22>3 - Linux 系统中的 bash 自动补全功能</h1>
<div class=lead>Linux 系统中 bash 自动补全功能的一些可选配置。</div>
<h3 id=introduction>简介</h3>
<p>kubectl 的 Bash 补全脚本可以用命令 <code>kubectl completion bash</code> 生成。
在 shell 中导入（Sourcing）补全脚本，将启用 kubectl 自动补全功能。</p>
<p>然而，补全脚本依赖于工具 <a href=https://github.com/scop/bash-completion><strong>bash-completion</strong></a>，
所以要先安装它（可以用命令 <code>type _init_completion</code> 检查 bash-completion 是否已安装）。</p>
<h3 id=install-bash-comletion>安装 bash-completion</h3>
<p>很多包管理工具均支持 bash-completion（参见<a href=https://github.com/scop/bash-completion#installation>这里</a>）。
可以通过 <code>apt-get install bash-completion</code> 或 <code>yum install bash-completion</code> 等命令来安装它。</p>
<p>上述命令将创建文件 <code>/usr/share/bash-completion/bash_completion</code>，它是 bash-completion 的主脚本。
依据包管理工具的实际情况，你需要在 <code>~/.bashrc</code> 文件中手工导入此文件。</p>
<p>要查看结果，请重新加载你的 shell，并运行命令 <code>type _init_completion</code>。
如果命令执行成功，则设置完成，否则将下面内容添加到文件 <code>~/.bashrc</code> 中：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>source</span> /usr/share/bash-completion/bash_completion
</code></pre></div>
<p>重新加载 shell，再输入命令 <code>type _init_completion</code> 来验证 bash-completion 的安装状态。</p>
<h3 id=enable-kubectl-autocompletion>启动 kubectl 自动补全功能</h3>
<h4 id=bash>Bash</h4>
<p>你现在需要确保一点：kubectl 补全脚本已经导入（sourced）到 shell 会话中。
可以通过以下两种方法进行设置：</p>
<ul class="nav nav-tabs" id=kubectl-bash-autocompletion role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#kubectl-bash-autocompletion-0 role=tab aria-controls=kubectl-bash-autocompletion-0 aria-selected=true>当前用户</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#kubectl-bash-autocompletion-1 role=tab aria-controls=kubectl-bash-autocompletion-1>系统全局</a></li></ul>
<div class=tab-content id=kubectl-bash-autocompletion><div id=kubectl-bash-autocompletion-0 class="tab-pane show active" role=tabpanel aria-labelledby=kubectl-bash-autocompletion-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>
<span style=color:#a2f>echo</span> <span style=color:#b44>&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bashrc
</code></pre></div></div>
<div id=kubectl-bash-autocompletion-1 class=tab-pane role=tabpanel aria-labelledby=kubectl-bash-autocompletion-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>
kubectl completion bash | sudo tee /etc/bash_completion.d/kubectl &gt; /dev/null
</code></pre></div></div></div>
<p>如果 kubectl 有关联的别名，你可以扩展 shell 补全来适配此别名：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bashrc
<span style=color:#a2f>echo</span> <span style=color:#b44>&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bashrc
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong>
<p>bash-completion 负责导入 <code>/etc/bash_completion.d</code> 目录中的所有补全脚本。
</div>
<p>两种方式的效果相同。重新加载 shell 后，kubectl 自动补全功能即可生效。</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-68808b3ec5807517ed64fd8ae32a7d1b>4 - macOS 系统上的 bash 自动补全</h1>
<div class=lead>在 macOS 上实现 Bash 自动补全的一些可选配置。</div>
<h3 id=简介>简介</h3>
<p>kubectl 的 Bash 补全脚本可以通过 <code>kubectl completion bash</code> 命令生成。
在你的 shell 中导入（Sourcing）这个脚本即可启用补全功能。</p>
<p>此外，kubectl 补全脚本依赖于工具 <a href=https://github.com/scop/bash-completion><strong>bash-completion</strong></a>，
所以你必须先安装它。</p>
<div class="alert alert-danger warning callout" role=alert>
<strong>Warning:</strong>
<p>bash-completion 有两个版本：v1 和 v2。v1 对应 Bash3.2（也是 macOS 的默认安装版本），v2 对应 Bash 4.1+。
kubectl 的补全脚本<strong>无法适配</strong> bash-completion v1 和 Bash 3.2。
必须为它配备 <strong>bash-completion v2</strong> 和 <strong>Bash 4.1+</strong>。
有鉴于此，为了在 macOS 上使用 kubectl 补全功能，你必须要安装和使用 Bash 4.1+
(<a href=https://itnext.io/upgrading-bash-on-macos-7138bd1066ba><em>说明</em></a>)。
后续说明假定你用的是 Bash 4.1+（也就是 Bash 4.1 或更新的版本）
</div>
<h3 id=升级-bash>升级 Bash</h3>
<p>后续说明假定你已使用 Bash 4.1+。你可以运行以下命令检查 Bash 版本：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b8860b>$BASH_VERSION</span>
</code></pre></div>
<p>如果版本太旧，可以用 Homebrew 安装/升级：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew install bash
</code></pre></div>
<p>重新加载 shell，并验证所需的版本已经生效：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b8860b>$BASH_VERSION</span> <span style=color:#b8860b>$SHELL</span>
</code></pre></div>
<p>Homebrew 通常把它安装为 <code>/usr/local/bin/bash</code>。</p>
<h3 id=安装-bash-completion>安装 bash-completion</h3>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong>
<p>如前所述，本说明假定你使用的 Bash 版本为 4.1+，这意味着你要安装 bash-completion v2
（不同于 Bash 3.2 和 bash-completion v1，kubectl 的补全功能在该场景下无法工作）。
</div>
<p>你可以用命令 <code>type _init_completion</code> 测试 bash-completion v2 是否已经安装。
如未安装，用 Homebrew 来安装它：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew install bash-completion@2
</code></pre></div>
<p>如命令的输出信息所显示的，将如下内容添加到文件 <code>~/.bash_profile</code> 中：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>export</span> <span style=color:#b8860b>BASH_COMPLETION_COMPAT_DIR</span><span style=color:#666>=</span><span style=color:#b44>&#34;/usr/local/etc/bash_completion.d&#34;</span>
<span style=color:#666>[[</span> -r <span style=color:#b44>&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span> <span style=color:#666>]]</span> <span style=color:#666>&amp;&amp;</span> . <span style=color:#b44>&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span>
</code></pre></div>
<p>重新加载 shell，并用命令 <code>type _init_completion</code> 验证 bash-completion v2 已经恰当的安装。</p>
<h3 id=启用-kubectl-自动补全功能>启用 kubectl 自动补全功能</h3>
<p>你现在需要确保在所有的 shell 环境中均已导入（sourced） kubectl 的补全脚本，
有若干种方法可以实现这一点：</p>
<ul>
<li>
<p>在文件 <code>~/.bash_profile</code> 中导入（Source）补全脚本：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bash_profile
</code></pre></div></li>
</ul>
<ul>
<li>
<p>将补全脚本添加到目录 <code>/usr/local/etc/bash_completion.d</code> 中：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl completion bash &gt;/usr/local/etc/bash_completion.d/kubectl
</code></pre></div></li>
</ul>
<ul>
<li>
<p>如果你为 kubectl 定义了别名，则可以扩展 shell 补全来兼容该别名：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bash_profile
<span style=color:#a2f>echo</span> <span style=color:#b44>&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bash_profile
</code></pre></div></li>
</ul>
<ul>
<li>
<p>如果你是用 Homebrew 安装的 kubectl（如
<a href=/zh/docs/tasks/install-with-homebrew-on-macos/#install-with-homebrew-on-macos>此页面</a>
所描述），则kubectl 补全脚本应该已经安装到目录 <code>/usr/local/etc/bash_completion.d/kubectl</code>
中了。这种情况下，你什么都不需要做。</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong>
<p>用 Hommbrew 安装的 bash-completion v2 会初始化 目录 <code>BASH_COMPLETION_COMPAT_DIR</code>
中的所有文件，这就是后两种方法能正常工作的原因。
</div>
</li>
</ul>
<p>总之，重新加载 shell 之后，kubectl 补全功能将立即生效。</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-730f5a835775a8e94bd1c481d3f1a349>5 - PowerShell 自动补全</h1>
<div class=lead>powershell 自动补全的一些可选配置。</div>
<p>使用命令 <code>kubectl completion powershell</code> 生成 PowerShell 的 kubectl 自动补全脚本。</p>
<p>如果需要自动补全在所有 shell 会话中生效，请将以下命令添加到 <code>$PROFILE</code> 文件中：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>kubectl completion powershell | <span style=color:#a2f>Out-String</span> | <span style=color:#a2f>Invoke-Expression</span>
</code></pre></div>
<p>此命令将在每次 PowerShell 启动时重新生成自动补全脚本。你还可以将生成的自动补全脚本添加到 <code>$PROFILE</code> 文件中。</p>
<p>如果需要将自动补全脚本直接添加到 <code>$PROFILE</code> 文件中，请在 PowerShell 终端运行以下命令：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell>kubectl completion powershell &gt;&gt; <span style=color:#b8860b>$PROFILE</span>
</code></pre></div>
<p>完成上述操作后重启 shell，kubectl的自动补全就可以工作了。</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9ab27577326839cb4793fd670a916364>6 - zsh 自动补全</h1>
<div class=lead>zsh 自动补全的一些可选配置</div>
<p>kubectl 通过命令 <code>kubectl completion zsh</code> 生成 Zsh 自动补全脚本。
在 shell 中导入（Sourcing）该自动补全脚本，将启动 kubectl 自动补全功能。</p>
<p>为了在所有的 shell 会话中实现此功能，请将下面内容加入到文件 <code>~/.zshrc</code> 中。</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion zsh<span style=color:#666>)</span>
</code></pre></div>
<p>如果你为 kubectl 定义了别名，kubectl 自动补全将自动使用它。</p>
<p>重新加载 shell 后，kubectl 自动补全功能将立即生效。</p>
<p>如果你收到 <code>2: command not found: compdef</code> 这样的错误提示，那请将下面内容添加到 <code>~/.zshrc</code> 文件的开头：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>autoload -Uz compinit
compinit
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-99d563e9521796074ba3ca7f15a613ce>7 - 后续内容</h1>
<div class=lead>安装 kubectl 之后，还可以做些什么？</div>
<ul>
<li><a href=https://minikube.sigs.k8s.io/docs/start/>安装 Minikube</a></li>
<li>有关创建集群的更多信息，请参阅<a href=/zh/docs/setup/>入门指南</a>.</li>
<li><a href=/zh/docs/tasks/access-application-cluster/service-access-application-cluster/>学习如何启动并对外公开你的应用程序。</a></li>
<li>如果你需要访问其他人创建的集群，请参阅
<a href=/zh/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>共享集群接入文档</a>.</li>
<li>阅读 <a href=/zh/docs/reference/kubectl/kubectl/>kubectl 参考文档</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b2d43b2ae3e8f26eefa83de2db4ba782>8 - 验证 kubectl 的安装效果</h1>
<div class=lead>如何验证 kubectl。</div>
<p>为了让 kubectl 能发现并访问 Kubernetes 集群，你需要一个
<a href=/docs/zh/concepts/configuration/organize-cluster-access-kubeconfig/>kubeconfig 文件</a>，
该文件在
<a href=https://github.com/kubernetes/kubernetes/blob/master/cluster/kube-up.sh>kube-up.sh</a>
创建集群时，或成功部署一个 Miniube 集群时，均会自动生成。
通常，kubectl 的配置信息存放于文件 <code>~/.kube/config</code> 中。</p>
<p>通过获取集群状态的方法，检查是否已恰当的配置了 kubectl：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl cluster-info
</code></pre></div>
<p>如果返回一个 URL，则意味着 kubectl 成功的访问到了你的集群。</p>
<p>如果你看到如下所示的消息，则代表 kubectl 配置出了问题，或无法连接到 Kubernetes 集群。</p>
<pre><code>The connection to the server &lt;server-name:port&gt; was refused - did you specify the right host or port?
（访问 &lt;server-name:port&gt; 被拒绝 - 你指定的主机和端口是否有误？）
</code></pre>
<p>例如，如果你想在自己的笔记本上（本地）运行 Kubernetes 集群，你需要先安装一个 Minikube 这样的工具，然后再重新运行上面的命令。</p>
<p>如果命令 <code>kubectl cluster-info</code> 返回了 url，但你还不能访问集群，那可以用以下命令来检查配置是否妥当：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl cluster-info dump
</code></pre></div>
</div>
</main>
</div>
</div>
<footer class=d-print-none>
<div class=footer__links>
<nav>
<a class=text-white href=/zh/docs/home/>主页</a>
<a class=text-white href=/zh/blog/>博客</a>
<a class=text-white href=/zh/training/>培训</a>
<a class=text-white href=/zh/partners/>合作伙伴</a>
<a class=text-white href=/zh/community/>社区</a>
<a class=text-white href=/zh/case-studies/>案例分析</a>
</nav>
</div>
<div class=container-fluid>
<div class=row>
<div class="col-6 col-sm-2 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list">
<a class=text-white target=_blank href=https://discuss.kubernetes.io>
<i class="fa fa-envelope"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank href=https://twitter.com/kubernetesio>
<i class="fab fa-twitter"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar>
<a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io">
<i class="fas fa-calendar-alt"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube>
<a class=text-white target=_blank href=https://youtube.com/kubernetescommunity>
<i class="fab fa-youtube"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank href=https://slack.k8s.io>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute>
<a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide>
<i class="fas fa-edit"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow">
<a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes>
<i class="fab fa-stack-overflow"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-8 text-center order-sm-2">
<small class=text-white>&copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small>
<br>
<small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small>
<br>
<small class=text-white>ICP license: 京ICP备17074266号-3</small>
</div>
</div>
</div>
</footer>
</div>
<script src=/js/popper-1.14.3.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap-4.3.1.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script>
<script src=/js/main.min.40616251a9b6e4b689e7769be0340661efa4d7ebb73f957404e963e135b4ed52.js integrity="sha256-QGFiUam25LaJ53ab4DQGYe+k1+u3P5V0BOlj4TW07VI=" crossorigin=anonymous></script>
</body>
</html>